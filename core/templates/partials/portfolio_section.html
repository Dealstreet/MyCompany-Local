{% load humanize %}
<div class="card-header-modern">
    <span>ğŸ“‹ í¬íŠ¸í´ë¦¬ì˜¤ ë³´ìœ  í˜„í™©</span>
    <button class="btn btn-sm btn-outline-secondary" style="font-size:12px;">Excel ë‹¤ìš´ë¡œë“œ</button>
</div>
<div style="overflow-x:auto;">
    <table class="modern-table">
        <thead>
            <tr>
                <th width="30%">ì¢…ëª©ëª…</th>
                <th width="15%" class="text-end">ë³´ìœ ìˆ˜ëŸ‰</th>
                <th width="20%" class="text-end">í‰ê· ë‹¨ê°€</th>
                <th width="20%" class="text-end">ì´ ë§¤ìˆ˜ê¸ˆì•¡</th>
                <th width="15%" class="text-end">ìŠ¹ì¸ì¼ì</th>
            </tr>
        </thead>
        <tbody>
            {% for item in portfolio %}
            <tr>
                <td><span class="stock-badge">{{ item.stock_name|default:item.stock_code }}</span></td>
                <td class="text-end fw-bold">{{ item.quantity|intcomma }}ì£¼</td>
                <td class="text-end">{{ item.avg_price|floatformat:0|intcomma }}ì›</td>
                <td class="text-end fw-bold text-dark">{{ item.total_amount|intcomma }}ì›</td>
                <td class="text-end text-secondary small">{{ item.approved_at|date:"y.m.d" }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="5" style="text-align: center; padding: 60px; color: #94a3b8;">
                    ë³´ìœ  ì¤‘ì¸ ìì‚°ì´ ì—†ìŠµë‹ˆë‹¤.
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <!-- í¬íŠ¸í´ë¦¬ì˜¤ í˜ì´ì§€ë„¤ì´ì…˜ ì»¨íŠ¸ë¡¤ -->
    {% if portfolio.has_other_pages %}
    <div class="d-flex justify-content-center p-3 gap-2">
        {% if portfolio.has_previous %}
        <button class="btn btn-sm btn-outline-secondary btn-pf-page"
            data-page="{{ portfolio.previous_page_number }}">&lt;</button>
        {% endif %}

        <span class="d-flex align-items-center text-muted small px-2">
            Page {{ portfolio.number }} of {{ portfolio.paginator.num_pages }}
        </span>

        {% if portfolio.has_next %}
        <button class="btn btn-sm btn-outline-secondary btn-pf-page"
            data-page="{{ portfolio.next_page_number }}">&gt;</button>
        {% endif %}
    </div>
    {% endif %}
</div>